window.eventTracking=function(){function f(a){return a.reduce(function(b,c){return b+c.quantity*c.price},0)}function g(a){window.ttq&&window.LI_TIKTOK_PIXEL_ENABLED&&ttq.track("AddToCart",{contents:a.map(function(b){return{content_id:b.id,content_name:b.name,content_type:"product",quantity:b.quantity,price:b.price}}),value:f(a),currency:"BRL"});window.LIgtag&&window.LI_GTAG_ADS_ACCOUNT_ID&&LIgtag("event","add_to_cart",{send_to:LI_GTAG_ADS_ACCOUNT_ID,ecomm_pagetype:"cart",value:f(a),items:a.map(function(b){return{id:LOJA_ID+
"-"+b.id,price:b.price,google_business_vertical:"retail",name:b.name,quantity:b.quantity}})})}function k(){var a=document.querySelectorAll(".compre-junto__produto--principal, .compre-junto__produto--selecionado");return Array.from(a).map(function(b){var c=$(b);b=c.find(".compre-junto__nome").text().trim();var d=c.find(".compre-junto__sku").val(),l=c.find(".compre-junto__preco--promocional").data("price");c=c.find(".compre-junto__preco--regular").data("price");return{id:d,name:b,quantity:1,price:l||
c}})}function e(a){var b=a.closest("div.principal");a=a.closest("div.acoes-produto");b=b.find('[itemprop="name"]').text().trim();var c=a.data("produto-id"),d=Number(a.find("[data-sell-price]").data("sell-price"));a=parseInt(a.find("input.qtde-carrinho").val());return{id:c,name:b,quantity:a||1,price:d}}function h(a){a=$(this);if(!a.hasClass("desativo")){if(a.parents(".acoes-flutuante").length){var b=a.closest("div.acoes-flutuante");a=a.closest("div.acoes-produto");b=b.find(".nome-produto").text().trim();
var c=a.data("produto-id");a=a.find("[data-sell-price]").data("sell-price");a={id:c,name:b,quantity:1,price:a}}else a=e(a);g([a])}}$(function(){$(".produto .principal div.comprar a.botao-comprar").click(h);$(".produto .acoes-flutuante div.comprar a.botao-comprar").click(h);var a,b=$(".principal .acoes-produto.disponivel").first(),c=$(".principal .acoes-produto.indisponivel").first();b.length?a=e(b):c.length&&(a=e(c));window.ttq&&window.LI_TIKTOK_PIXEL_ENABLED&&(a={content_name:a.name,content_id:a.id,
content_type:"product",quantity:a.quantity,value:produto_preco_sob_consulta?0:produto_preco,currency:"BRL"},produto_preco_sob_consulta||(a.price=produto_preco),ttq.track("ViewContent",a))});return{handleBuyTogetherAddToCart:function(){var a=k();a&&a.length&&g(a)}}}();
